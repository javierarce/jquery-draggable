<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Draggable</title>
    <script src="http://www.google.com/jsapi"></script>
    <script>google.load("jquery", "1.7.1");</script>
    <script src="draggable.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <script>
      $(function() {

        var colors = ["#1abc9c", "#16a085", "#f39c12", "#3498db", "#9b59b6", "#e67e22", "#f1c40f", "#e74c3c"];

        var ol = $(".canvas").offset().left;
        var ot = $(".canvas").offset().top;
        var cw = $(".canvas").width();
        var ch = $(".canvas").height();
        var cl = ol + cw;
        var ct = ot + ch;

        for (var i = 0; i < 7; i++) {

          $block = $("<div class='block' />");

          var w = Math.round(30 + Math.random() * 100);
          var h = w;

          var l = Math.round(Math.random() * cw);
          var t = Math.round(Math.random() * ch);

          while ( (l + ol + w) >= cl || (t + ot + h) >= ct) {
            l = Math.round(Math.random() * cw);
            t = Math.round(Math.random() * ch);
          }

          var color = colors[Math.round(Math.random() * (colors.length - 1))];

          $block.offset({ left: l, top: t }).css({ width: w, height: h, backgroundColor: color });
          $(".canvas").append($block);

        }

        // Apply the plugin
        $(".block").draggable({ 
          container:         $(".canvas"),
          stickiness:        10,
          vertical_guides:   [300, 400],
          horizontal_guides: [200, 300]
        });

      });

    </script>
  </head>

  <body>
    <div class="canvas"></div>
  </body>
</html>
